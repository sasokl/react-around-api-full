{"ast":null,"code":"var _jsxFileName = \"A:\\\\PracticumProj\\\\react-around-api-full\\\\frontend\\\\src\\\\components\\\\EditAvatarPopup.js\",\n    _s = $RefreshSig$();\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport { useEffect, useRef, useState } from \"react\";\nimport InputRef from \"./InputRef\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditAvatarPopup(_ref) {\n  _s();\n\n  let {\n    isOpen,\n    onClose,\n    onUpdateAvatar\n  } = _ref;\n  const urlRef = useRef();\n  const submitButtonDefaultText = 'Save';\n  const submittingText = 'Saving...';\n  const [submitButtonText, setSubmitButtonText] = useState(submitButtonDefaultText);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitButtonText(submittingText);\n    onUpdateAvatar(urlRef.current['value']).then(() => {\n      onClose();\n      setSubmitButtonText(submitButtonDefaultText);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    urlRef.current.value = \"\";\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    popupType: \"avatar\",\n    popupTitle: \"Change profile picture\",\n    isOpen: isOpen,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    submitButtonText: submitButtonText,\n    children: /*#__PURE__*/_jsxDEV(InputRef, {\n      type: \"url\",\n      name: \"avatar-image-link\",\n      defaultValue: \"\",\n      placeholder: \"Image link\",\n      isRequired: true,\n      ref: urlRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditAvatarPopup, \"ZkAlsQrFDjL8ZybxG44wUBloQII=\");\n\n_c = EditAvatarPopup;\nexport default EditAvatarPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditAvatarPopup\");","map":{"version":3,"sources":["A:/PracticumProj/react-around-api-full/frontend/src/components/EditAvatarPopup.js"],"names":["PopupWithForm","useEffect","useRef","useState","InputRef","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","urlRef","submitButtonDefaultText","submittingText","submitButtonText","setSubmitButtonText","handleSubmit","e","preventDefault","current","then","catch","err","console","log","value"],"mappings":";;;AAAA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,SAAQC,SAAR,EAAmBC,MAAnB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AAEA,SAASC,eAAT,OAA4D;AAAA;;AAAA,MAAnC;AAACC,IAAAA,MAAD;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,GAAmC;AAC1D,QAAMC,MAAM,GAAGP,MAAM,EAArB;AAEA,QAAMQ,uBAAuB,GAAG,MAAhC;AACA,QAAMC,cAAc,GAAG,WAAvB;AAEA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CV,QAAQ,CAACO,uBAAD,CAAxD;;AAEA,WAASI,YAAT,CAAsBC,CAAtB,EAAyB;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,mBAAmB,CAACF,cAAD,CAAnB;AACAH,IAAAA,cAAc,CAACC,MAAM,CAACQ,OAAP,CAAe,OAAf,CAAD,CAAd,CACGC,IADH,CACQ,MAAM;AACVX,MAAAA,OAAO;AACPM,MAAAA,mBAAmB,CAACH,uBAAD,CAAnB;AACD,KAJH,EAKGS,KALH,CAKUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAPH;AAQD;;AAEDnB,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,MAAM,CAACQ,OAAP,CAAeM,KAAf,GAAuB,EAAvB;AACD,GAFQ,EAEP,CAACjB,MAAD,CAFO,CAAT;AAGA,sBACE,QAAC,aAAD;AACE,IAAA,SAAS,EAAC,QADZ;AAEE,IAAA,UAAU,EAAC,wBAFb;AAGE,IAAA,MAAM,EAAEA,MAHV;AAIE,IAAA,OAAO,EAAEC,OAJX;AAKE,IAAA,QAAQ,EAAEO,YALZ;AAME,IAAA,gBAAgB,EAAEF,gBANpB;AAAA,2BAOE,QAAC,QAAD;AACE,MAAA,IAAI,EAAC,KADP;AAEE,MAAA,IAAI,EAAC,mBAFP;AAGE,MAAA,YAAY,EAAC,EAHf;AAIE,MAAA,WAAW,EAAC,YAJd;AAKE,MAAA,UAAU,EAAE,IALd;AAME,MAAA,GAAG,EAAEH;AANP;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GAzCQJ,e;;KAAAA,e;AA2CT,eAAeA,eAAf","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\r\nimport {useEffect, useRef, useState} from \"react\";\r\nimport InputRef from \"./InputRef\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const urlRef = useRef();\r\n\r\n  const submitButtonDefaultText = 'Save';\r\n  const submittingText = 'Saving...';\r\n\r\n  const [submitButtonText, setSubmitButtonText] = useState(submitButtonDefaultText);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setSubmitButtonText(submittingText);\r\n    onUpdateAvatar(urlRef.current['value'])\r\n      .then(() => {\r\n        onClose();\r\n        setSubmitButtonText(submitButtonDefaultText)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    urlRef.current.value = \"\";\r\n  },[isOpen])\r\n  return (\r\n    <PopupWithForm\r\n      popupType=\"avatar\"\r\n      popupTitle=\"Change profile picture\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitButtonText={submitButtonText}>\r\n      <InputRef\r\n        type=\"url\"\r\n        name=\"avatar-image-link\"\r\n        defaultValue=\"\"\r\n        placeholder=\"Image link\"\r\n        isRequired={true}\r\n        ref={urlRef}/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}