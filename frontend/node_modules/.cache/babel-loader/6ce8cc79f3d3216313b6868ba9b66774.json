{"ast":null,"code":"var _jsxFileName = \"A:\\\\PracticumProj\\\\react-around-api-full\\\\frontend\\\\src\\\\components\\\\EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfilePopup(_ref) {\n  _s();\n\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser\n  } = _ref;\n  const submitButtonDefaultText = 'Save';\n  const submittingText = 'Saving...';\n  const [submitButtonText, setSubmitButtonText] = useState(submitButtonDefaultText);\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setSubmitButtonText(submittingText);\n    onUpdateUser({\n      name,\n      about: description\n    }).then(() => {\n      onClose();\n      setSubmitButtonText(submitButtonDefaultText);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    popupType: \"profile\",\n    popupTitle: \"Edit profile\",\n    isOpen: isOpen,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    submitButtonText: submitButtonText,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      type: \"text\",\n      name: \"name\",\n      value: name,\n      handleChange: handleNameChange,\n      placeholder: \"Name\",\n      minLength: \"2\",\n      maxLength: \"40\",\n      isRequired: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      type: \"text\",\n      name: \"about\",\n      value: description,\n      handleChange: handleDescriptionChange,\n      placeholder: \"About me\",\n      minLength: \"2\",\n      maxLength: \"200\",\n      isRequired: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfilePopup, \"uB91J2nn8Er7M3mNtFeM5r/rFOY=\");\n\n_c = EditProfilePopup;\nexport default EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"sources":["A:/PracticumProj/react-around-api-full/frontend/src/components/EditProfilePopup.js"],"names":["PopupWithForm","Input","useContext","useEffect","useState","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","submitButtonDefaultText","submittingText","submitButtonText","setSubmitButtonText","currentUser","name","setName","description","setDescription","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","about","then","catch","err","console","log"],"mappings":";;;AAAA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,UAAR,EAAoBC,SAApB,EAA+BC,QAA/B,QAA8C,OAA9C;AACA,SAAQC,kBAAR,QAAiC,gCAAjC;;;AAEA,SAASC,gBAAT,OAA2D;AAAA;;AAAA,MAAjC;AAACC,IAAAA,MAAD;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,GAAiC;AAEzD,QAAMC,uBAAuB,GAAG,MAAhC;AACA,QAAMC,cAAc,GAAG,WAAvB;AACA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CT,QAAQ,CAACM,uBAAD,CAAxD;AAEA,QAAMI,WAAW,GAAGZ,UAAU,CAACG,kBAAD,CAA9B;AAEA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,EAAD,CAA9C;;AAGA,WAASe,gBAAT,CAA0BC,CAA1B,EAA6B;AAC3BJ,IAAAA,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD;;AAED,WAASC,uBAAT,CAAiCH,CAAjC,EAAoC;AAClCF,IAAAA,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd;AACD;;AAED,WAASE,YAAT,CAAsBJ,CAAtB,EAAyB;AACvBA,IAAAA,CAAC,CAACK,cAAF;AACAZ,IAAAA,mBAAmB,CAACF,cAAD,CAAnB;AACAF,IAAAA,YAAY,CAAC;AACXM,MAAAA,IADW;AAEXW,MAAAA,KAAK,EAAET;AAFI,KAAD,CAAZ,CAIGU,IAJH,CAIQ,MAAM;AACVnB,MAAAA,OAAO;AACPK,MAAAA,mBAAmB,CAACH,uBAAD,CAAnB;AACD,KAPH,EAQGkB,KARH,CAQUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAVH;AAWD;;AAED1B,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO,CAACF,WAAW,CAACC,IAAb,CAAP;AACAG,IAAAA,cAAc,CAACJ,WAAW,CAACY,KAAb,CAAd;AACD,GAHQ,EAGN,CAACZ,WAAD,EAAcP,MAAd,CAHM,CAAT;AAKA,sBACE,QAAC,aAAD;AACE,IAAA,SAAS,EAAC,SADZ;AAEE,IAAA,UAAU,EAAC,cAFb;AAGE,IAAA,MAAM,EAAEA,MAHV;AAIE,IAAA,OAAO,EAAEC,OAJX;AAKE,IAAA,QAAQ,EAAEgB,YALZ;AAME,IAAA,gBAAgB,EAAEZ,gBANpB;AAAA,4BAOE,QAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAEG,IAHT;AAIE,MAAA,YAAY,EAAEI,gBAJhB;AAKE,MAAA,WAAW,EAAC,MALd;AAME,MAAA,SAAS,EAAC,GANZ;AAOE,MAAA,SAAS,EAAC,IAPZ;AAQE,MAAA,UAAU,EAAE;AARd;AAAA;AAAA;AAAA;AAAA,YAPF,eAgBE,QAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,KAAK,EAAEF,WAHT;AAIE,MAAA,YAAY,EAAEM,uBAJhB;AAKE,MAAA,WAAW,EAAC,UALd;AAME,MAAA,SAAS,EAAC,GANZ;AAOE,MAAA,SAAS,EAAC,KAPZ;AAQE,MAAA,UAAU,EAAE;AARd;AAAA;AAAA;AAAA;AAAA,YAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4BD;;GArEQjB,gB;;KAAAA,gB;AAuET,eAAeA,gBAAf","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\r\nimport Input from \"./Input\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n  const submitButtonDefaultText = 'Save';\r\n  const submittingText = 'Saving...';\r\n  const [submitButtonText, setSubmitButtonText] = useState(submitButtonDefaultText);\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setSubmitButtonText(submittingText);\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n      .then(() => {\r\n        onClose();\r\n        setSubmitButtonText(submitButtonDefaultText)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      popupType=\"profile\"\r\n      popupTitle=\"Edit profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitButtonText={submitButtonText}>\r\n      <Input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name}\r\n        handleChange={handleNameChange}\r\n        placeholder=\"Name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        isRequired={true}/>\r\n      <Input\r\n        type=\"text\"\r\n        name=\"about\"\r\n        value={description}\r\n        handleChange={handleDescriptionChange}\r\n        placeholder=\"About me\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        isRequired={true}/>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}